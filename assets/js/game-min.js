const module=(()=>{"use strict";let e=[],r=["C","D","H","S"],t=["A","J","Q","K"],l=[],s=document.querySelector("#new"),n=document.querySelector("#ask"),a=document.querySelector("#stop"),i=document.querySelectorAll("small"),o=document.querySelectorAll(".cards__container"),d=(r=2)=>{e=c(),l=[];for(let t=0;t<r;t++)l.push(0);a.disabled=!1,n.disabled=!1,o.forEach(e=>e.innerText=""),i.forEach(e=>e.innerText=0)},c=()=>{e=[];for(let l=2;l<10;l++)for(let s of r)e.push(l+s);for(let n of r)for(let a of t)e.push(a+n);return e=_.shuffle(e)},$=()=>{if(0===e.length)throw"There are not more cards";return e.pop()},u=e=>{let r=e.substring(0,e.length-1);return isNaN(r)?"A"===r?11:10:parseInt(r)},h=(e,r)=>(l[r]=l[r]+u(e),i[r].innerHTML=l[r],l[r]),f=(e,r)=>{let t=document.createElement("img");t.src=`./assets/cartas/${e}.png`,t.classList="computer__card",o[r].appendChild(t)},p=()=>{let[e,r]=l;setTimeout(()=>{r===e?alert("Draw"):e>21?alert("The computer wins"):r>21?alert("The player wins"):alert("The computer wins")},500)},b=e=>{let r=0;do{let t=$();r=h(t,l.length-1),f(t,l.length-1)}while(r<e&&e<=21);p()};return n.addEventListener("click",()=>{let e=$(),r=h(e,0);f(e,0),r>21?(console.warn("Sorry, you lose."),n.disabled=!0,a.disabled=!0,b(r)):21===r&&(setTimeout(()=>{alert("Blackjack")},500),n.disabled=!0,a.disabled=!0)}),a.addEventListener("click",()=>{a.disabled=!0,n.disabled=!0,b(l[0])}),s.addEventListener("click",()=>{d()}),{ini:d}})();